<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
RossW.co.uk | articles tagged "homelab"    </title>
    <link rel="shortcut icon" type="image/png" href="https://rossw.co.uk/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="https://rossw.co.uk/favicon.ico">
    <link href="https://rossw.co.uk/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="RossW.co.uk Full RSS Feed" />
    <link rel="stylesheet" href="https://rossw.co.uk/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="https://rossw.co.uk/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="author" content="Ross" />

<meta name="description" content="Learn with me. Programming, DevOps, Homelabs & more" />
</head>
<body>
    <header>
        <nav>
            <ul>
                <li class="ephemeral selected"><a href="https://rossw.co.uk/tag/homelab.html">homelab</a></li>
                <li><a href="https://rossw.co.uk/">Home</a></li>
                <li><a href="https://rossw.co.uk/pages/about.html">About</a></li>
                <li><a href="https://rossw.co.uk/archive">Archives</a></li>
            </ul>
        </nav>
        <div class="header_box">
            <h1><a href="https://rossw.co.uk/">RossW.co.uk</a></h1>
            <h2>Programming, DevOps, Homelabs & more</h2>
        </div>
    </header>
    <div id="wrapper">
        <div id="content">            <h4 class="date">May 22, 2021</h4>

            <article class="post">
                <h2 class="title">
                    <a href="https://rossw.co.uk/homelab-tour.html" rel="bookmark" title="Permanent Link to &quot;Homelab Tour&quot;">Homelab Tour</a>
                </h2>

                
                

                <p>Today, I'm going to be telling you about my small homelab which I started putting together only in November last year. I don't have much space and wanted something quiet and power-efficient. The HPE MicroServer Gen8 seemed very popular online and could be picked up relatively cheaply on the second hand market, but the hardware seems to be showing its age. After a bit of research and an incredible review by <a href="https://www.servethehome.com/hpe-proliant-microserver-gen10-plus-review-this-is-super/">ServeTheHome</a>, I settled on starting out with the HPE MicroServer Gen10 Plus.</p>
<h3>Hardware</h3>
<p><strong>HPE MicroServer Gen10 Plus</strong></p>
<ul>
<li>CPU: Intel Xeon E-2224</li>
<li>RAM: 32gb DDR4-2226 ECC (Upgraded from the standard 16gb)</li>
<li>OS Storage: WD Blue 500gb NVME (PCIe card required)</li>
<li>Bulk Storage: 4x 4TB WD Red Plus SATA</li>
</ul>
<p>The specs are nothing to write home about but it is perfect for my needs (for now) and the form factor is great; it easily fits on a bookshelf. I also purchased the iLO enablement kit which is required to utilise iLO on this particular model.</p>
<p><strong>Raspberry Pis</strong></p>
<p>I have a cluster of 4 Raspberry Pi 4B's that used to act as my home lab before I bought something a bit more robust in the MicroServer. My intention for these is to set them up in a kubernetes cluster as workers. I'll probably need to run the master in a virtual machine as they just won't have enough memory for that, but they should be perfectly fine as workers.</p>
<p><strong>Network Gear</strong></p>
<p>Right now, I have a fairly cheap ethernet switch and a wireless access point. I am looking to upgrade to a managed switch in the future so if anybody has any recommendations, please let me know!</p>
<p><strong>UPS - Cyberpower 1500VA/900W</strong></p>
<p>I chose this one because it wasn't too expensive compared to the other options out there. It gives me plenty of headroom for what I need and also has x2no regular UK plug outlets alongside the x4 EIC C13 which is great for connecting my modem, network switch, and other items that just have a plug.</p>
<p>It comes with software that allows it to send a shutdown signal to a device if the power is out for a certain amount of time. My server runs 24/7 and being able to have it cleanly shut down if there is a power outage while I'm away or sleeping provides me with peace of mind, which is great.</p>
<p>The other benefit of a UPS is it always ensures that any connected devices have clean power.</p>
<h3>Software</h3>
<p>I'm running <a href="https://www.proxmox.com/en/">Proxmox VE</a> as the OS on the MicroServer. I’ve never used this kind of hypervisor before, but I have found proxmox really easy to get up and running with. There are a whole host of advanced features that I haven't had a chance to dive into yet.</p>
<p>There are a number of Virtual Machines and LXC Containers that form my homelab:</p>
<p><img alt="Proxmox Dashboard" src="https://rossw.co.uk/images/homelab-tour/homelab-tour-proxmox-dashboard.webp"></p>
<p><strong>Virtual Machines</strong></p>
<ul>
<li>truenas - This runs <a href="https://www.truenas.com/">TrueNAS Core</a> with the 4x 4TB hard drives passed through to it and serves as my home NAS.</li>
<li>pfsense - This runs <a href="https://www.pfsense.org/">pfSense Community Edition</a>. I've talked about this in some previous posts where I've discussed setting up <a href="https://rossw.co.uk/openvpn-pfsense.html">OpenVPN</a> and <a href="https://rossw.co.uk/pxeboot-ubuntu-pfsense.html">network booting Ubuntu 21.04</a>.</li>
<li>atom - This isn't running anything specialised, it's just a standard <a href="https://ubuntu.com/">Ubuntu</a> Server 20.04 VM. I use it mainly for testing, at the moment it's mainly used as a bit of a docker playground.</li>
</ul>
<p><strong>Containers</strong></p>
<p>I try to keep everything in its own single container so that if there are ever any issues, I can just kill the container and create a new one from backup. It makes configuration way more straight forward.</p>
<ul>
<li>pihole - A container that just runs <a href="https://pi-hole.net/">pihole</a> for DNS level ad-blocking across my entire network and is also used as DNS for all of my local infrastructure. As an example, I can access truenas by navigating to https://truenas.rossw.co.uk.</li>
<li>minecraft-e2e - A container running a small minecraft server for some friends.</li>
<li>jupyter - A container running <a href="https://jupyter.org/">JupyterLab</a> for easy access to notebooks from any of my devices.</li>
<li>code - A container running <a href="https://github.com/cdr/code-server">VS Code Server</a> which allows access to VS Code from a browser. I don't really use this as much as I used to, but it is handy for not having to configure and install plugins on a device that I'm going to be using infrequently. It is also nice for getting access to a bash shell on devices that don't support that.</li>
<li>influxdb - A container running an instance of <a href="https://www.influxdata.com/">InfluxDB</a>. I'm currently using this to store temperature data for a project I'm working on where I have a raspberry pi hooked up to a temperature sensor and then a Flask app to display the data. I'm planning to rewrite this project entirely using FastAPI instead of Flask with a JS framework front-end (most likely Vue). Watch this space for updates!</li>
<li>mongodb - A container running an instance of <a href="https://www.mongodb.com/">MongoDB</a>. I'm not really using this at the moment, I had set it up for use with a project but that is on the back burner right now. It'll get some use eventually.</li>
<li>jenkins - A container running jenkins, at the moment it is responsible for building and deploying this blog whenever there are any updates! I intend to write about this later in my blog series on deploying this Blog. You can check out <a href="https://rossw.co.uk/blog-setup-part1-terraform.html">part 1</a> now which covers provisioning using terraform.</li>
<li>irc - A container running <a href="https://weechat.org/">WeeChat</a> for the few times that I do use IRC. I use <a href="https://www.glowing-bear.org/">Glowing Bear</a> as a front end so I can access it from any device. I would definitely recommend this setup for anybody that regularly uses IRC.</li>
<li>bitwarden - I have only recently set this up with the intention of using it to self host <a href="https://bitwarden.com/">bitwarden</a> and still needs some work, but once it is up and running, I'll be writing a blog post about it. I have written about setting up <a href="https://rossw.co.uk/openvpn-pfsense.html">OpenVPN on pfSense</a> so that once it is all set up, I can access it from anywhere.</li>
</ul>
<h3>Summary</h3>
<p>Well that's everything I'm running! As you can see from the dashboard, I still have a bit of headroom available and have plans in the future to look into setting up <a href="https://bitwarden.com/">Traefik</a>, getting a proper Kubernetes setup going, and some sort of smart home automation. </p>
<p>If any of you have a homelab or can recommend anything that's worth self hosting, please get in touch! Contact details be found <a href="https://rossw.co.uk/pages/about.html">here</a>.</p>
                <section>
                <p id="post-share-links">
                    Share on:
                    <a href="https://twitter.com/intent/tweet?text=Homelab%20Tour&url=https%3A//rossw.co.uk/homelab-tour.html&hashtags=homelab,proxmox,microserver" title="Share on Twitter">Twitter</a>
                    ·
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//rossw.co.uk/homelab-tour.html" title="Share on Facebook">Facebook</a>
                    ·
                    <a href="https://www.reddit.com/submit?url=https%3A//rossw.co.uk/homelab-tour.html&title=Homelab%20Tour" title="Share via Reddit">Reddit</a>
                    ·
                    <a href="mailto:?subject=Homelab%20Tour&amp;body=https%3A//rossw.co.uk/homelab-tour.html" title="Share via Email">Email</a>
                </p>
                </section>
                <div class="clear"></div>

                <div class="info">
                    <a href="https://rossw.co.uk/homelab-tour.html">posted at 14:30</a>
                    &nbsp;&middot;&nbsp;<a href="https://rossw.co.uk/category/homelab.html" rel="tag">Homelab</a>
                    &nbsp;&middot;
                    &nbsp;<a href="https://rossw.co.uk/tag/homelab.html" class="tags selected">homelab</a>
                    &nbsp;<a href="https://rossw.co.uk/tag/proxmox.html" class="tags">proxmox</a>
                    &nbsp;<a href="https://rossw.co.uk/tag/microserver.html" class="tags">microserver</a>
                </div>
            </article>

            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/rosswf"><img src="https://rossw.co.uk/theme/images/GitHub-Mark-32px.webp" alt="My Github" width="32" height="32"></a>
                <a href="https://twitter.com/rossw_"><img src="https://rossw.co.uk/theme/images/2021-Twitter-logo-black.webp" alt="My Twitter" width="32" height="26"></a>
                </p>
                <p>
                Modified <a href="https://github.com/jody-frankowski/blue-penguin">Blue Penguin</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
                &middot;
                <a href="https://rossw.co.uk/feeds/all.rss.xml" rel="alternate">Rss Feed</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>
    <a href="https://github.com/rosswf" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#15A9DB; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
</body>
</html>